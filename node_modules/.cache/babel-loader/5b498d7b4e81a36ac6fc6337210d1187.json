{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Line}from\"react-chartjs-2\";import{Col,Row,Typography,Select}from\"antd\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const{Title}=Typography;const{Option}=Select;const LineChart=_ref=>{var _coinHistory$data3;let{coinHistory,currentPrice,coinName}=_ref;const[selectedRange,setSelectedRange]=useState(\"30\");const[coinTimestamp,setCoinTimestamp]=useState([]);const coinPrice=[];for(let i=0;i<(coinHistory===null||coinHistory===void 0?void 0:(_coinHistory$data=coinHistory.data)===null||_coinHistory$data===void 0?void 0:(_coinHistory$data$his=_coinHistory$data.history)===null||_coinHistory$data$his===void 0?void 0:_coinHistory$data$his.length);i+=1){var _coinHistory$data,_coinHistory$data$his,_coinHistory$data2;coinPrice.push(coinHistory===null||coinHistory===void 0?void 0:(_coinHistory$data2=coinHistory.data)===null||_coinHistory$data2===void 0?void 0:_coinHistory$data2.history[i].price);}const generateTimestamp=range=>{const startDate=new Date();startDate.setDate(startDate.getDate()-parseInt(range,5));// Adjust the start date based on the selected range\nconst timestamps=[];for(let i=0;i<=parseInt(range,5);i++){const newDate=new Date(startDate.getTime()+i*24*60*60*1000);timestamps.push(newDate.toLocaleDateString());}setCoinTimestamp(timestamps);};useEffect(()=>{generateTimestamp(selectedRange);},[selectedRange]);const handleRangeChange=value=>{setSelectedRange(value);};const data={labels:coinTimestamp,datasets:[{label:\"Price In USD\",data:coinPrice,fill:false,backgroundColor:\"#0071bd\",borderColor:\"#0071bd\"}]};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(Title,{level:2,className:\"chart-title\",children:[coinName,\" Price Chart\",\" \"]}),/*#__PURE__*/_jsxs(Col,{className:\"price-container\",children:[/*#__PURE__*/_jsxs(Title,{level:5,className:\"price-change\",children:[\"Change: \",coinHistory===null||coinHistory===void 0?void 0:(_coinHistory$data3=coinHistory.data)===null||_coinHistory$data3===void 0?void 0:_coinHistory$data3.change,\"%\"]}),/*#__PURE__*/_jsxs(Title,{level:5,className:\"current-price\",children:[\"Current \",coinName,\" Price: $ \",currentPrice]})]}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Select,{value:selectedRange,style:{width:200,color:\"black\"},onChange:handleRangeChange,children:[/*#__PURE__*/_jsx(Option,{value:\"7\",children:\"7 days\"}),/*#__PURE__*/_jsx(Option,{value:\"30\",children:\"30 days\"}),/*#__PURE__*/_jsx(Option,{value:\"90\",children:\"90 days\"})]})})]}),/*#__PURE__*/_jsx(Line,{data:data})]});};export default LineChart;","map":{"version":3,"names":["React","useState","useEffect","Line","Col","Row","Typography","Select","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Title","Option","LineChart","_ref","_coinHistory$data3","coinHistory","currentPrice","coinName","selectedRange","setSelectedRange","coinTimestamp","setCoinTimestamp","coinPrice","i","_coinHistory$data","data","_coinHistory$data$his","history","length","_coinHistory$data2","push","price","generateTimestamp","range","startDate","Date","setDate","getDate","parseInt","timestamps","newDate","getTime","toLocaleDateString","handleRangeChange","value","labels","datasets","label","fill","backgroundColor","borderColor","children","className","level","change","span","style","width","color","onChange"],"sources":["D:/projects/CryptoIntel/src/components/LineChart.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Col, Row, Typography, Select } from \"antd\";\r\n\r\nconst { Title } = Typography;\r\nconst { Option } = Select;\r\n\r\nconst LineChart = ({ coinHistory, currentPrice, coinName }) => {\r\n  const [selectedRange, setSelectedRange] = useState(\"30\");\r\n  const [coinTimestamp, setCoinTimestamp] = useState([]);\r\n  const coinPrice = [];\r\n  for (let i = 0; i < coinHistory?.data?.history?.length; i += 1) {\r\n    coinPrice.push(coinHistory?.data?.history[i].price);\r\n  }\r\n\r\n  const generateTimestamp = (range) => {\r\n    const startDate = new Date();\r\n    startDate.setDate(startDate.getDate() - parseInt(range, 5)); // Adjust the start date based on the selected range\r\n\r\n    const timestamps = [];\r\n    for (let i = 0; i <= parseInt(range, 5); i++) {\r\n      const newDate = new Date(startDate.getTime() + i * 24 * 60 * 60 * 1000);\r\n      timestamps.push(newDate.toLocaleDateString());\r\n    }\r\n    setCoinTimestamp(timestamps);\r\n  };\r\n  useEffect(() => {\r\n    generateTimestamp(selectedRange);\r\n  }, [selectedRange]);\r\n  const handleRangeChange = (value) => {\r\n    setSelectedRange(value);\r\n  };\r\n\r\n  const data = {\r\n    labels: coinTimestamp,\r\n    datasets: [\r\n      {\r\n        label: \"Price In USD\",\r\n        data: coinPrice,\r\n        fill: false,\r\n        backgroundColor: \"#0071bd\",\r\n        borderColor: \"#0071bd\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row className=\"chart-header\">\r\n        <Title level={2} className=\"chart-title\">\r\n          {coinName} Price Chart{\" \"}\r\n        </Title>\r\n        <Col className=\"price-container\">\r\n          <Title level={5} className=\"price-change\">\r\n            Change: {coinHistory?.data?.change}%\r\n          </Title>\r\n          <Title level={5} className=\"current-price\">\r\n            Current {coinName} Price: $ {currentPrice}\r\n          </Title>\r\n        </Col>\r\n        <Col span={24}>\r\n          <Select\r\n            value={selectedRange}\r\n            style={{ width: 200, color: \"black\" }}\r\n            onChange={handleRangeChange}\r\n          >\r\n            <Option value=\"7\">7 days</Option>\r\n            <Option value=\"30\">30 days</Option>\r\n            <Option value=\"90\">90 days</Option>\r\n          </Select>\r\n        </Col>\r\n      </Row>\r\n      <Line data={data} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LineChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}