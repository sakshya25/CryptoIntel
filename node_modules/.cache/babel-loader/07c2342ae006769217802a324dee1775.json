{"ast":null,"code":"import * as React from 'react';\nimport { useRef } from 'react';\nvar SMOOTH_PTG = 14 / 15;\nexport default function useMobileTouchMove(inVirtual, listRef, callback) {\n  var touchedRef = useRef(false);\n  var touchYRef = useRef(0);\n  var elementRef = useRef(null); // Smooth scroll\n\n  var intervalRef = useRef(null);\n  var cleanUpEvents;\n  var onTouchMove = function onTouchMove(e) {\n    if (touchedRef.current) {\n      var currentY = Math.ceil(e.touches[0].pageY);\n      var offsetY = touchYRef.current - currentY;\n      touchYRef.current = currentY;\n      if (callback(offsetY)) {\n        e.preventDefault();\n      } // Smooth interval\n\n      clearInterval(intervalRef.current);\n      intervalRef.current = setInterval(function () {\n        offsetY *= SMOOTH_PTG;\n        if (!callback(offsetY, true) || Math.abs(offsetY) <= 0.1) {\n          clearInterval(intervalRef.current);\n        }\n      }, 16);\n    }\n  };\n  var onTouchEnd = function onTouchEnd() {\n    touchedRef.current = false;\n    cleanUpEvents();\n  };\n  var onTouchStart = function onTouchStart(e) {\n    cleanUpEvents();\n    if (e.touches.length === 1 && !touchedRef.current) {\n      touchedRef.current = true;\n      touchYRef.current = Math.ceil(e.touches[0].pageY);\n      elementRef.current = e.target;\n      elementRef.current.addEventListener('touchmove', onTouchMove);\n      elementRef.current.addEventListener('touchend', onTouchEnd);\n    }\n  };\n  cleanUpEvents = function cleanUpEvents() {\n    if (elementRef.current) {\n      elementRef.current.removeEventListener('touchmove', onTouchMove);\n      elementRef.current.removeEventListener('touchend', onTouchEnd);\n    }\n  };\n  React.useLayoutEffect(function () {\n    if (inVirtual) {\n      listRef.current.addEventListener('touchstart', onTouchStart);\n    }\n    return function () {\n      listRef.current.removeEventListener('touchstart', onTouchStart);\n      cleanUpEvents();\n      clearInterval(intervalRef.current);\n    };\n  }, [inVirtual]);\n}","map":{"version":3,"names":["React","useRef","SMOOTH_PTG","useMobileTouchMove","inVirtual","listRef","callback","touchedRef","touchYRef","elementRef","intervalRef","cleanUpEvents","onTouchMove","e","current","currentY","Math","ceil","touches","pageY","offsetY","preventDefault","clearInterval","setInterval","abs","onTouchEnd","onTouchStart","length","target","addEventListener","removeEventListener","useLayoutEffect"],"sources":["D:/projects/CryptoIntel/node_modules/rc-virtual-list/es/hooks/useMobileTouchMove.js"],"sourcesContent":["import * as React from 'react';\nimport { useRef } from 'react';\nvar SMOOTH_PTG = 14 / 15;\nexport default function useMobileTouchMove(inVirtual, listRef, callback) {\n  var touchedRef = useRef(false);\n  var touchYRef = useRef(0);\n  var elementRef = useRef(null); // Smooth scroll\n\n  var intervalRef = useRef(null);\n  var cleanUpEvents;\n\n  var onTouchMove = function onTouchMove(e) {\n    if (touchedRef.current) {\n      var currentY = Math.ceil(e.touches[0].pageY);\n      var offsetY = touchYRef.current - currentY;\n      touchYRef.current = currentY;\n\n      if (callback(offsetY)) {\n        e.preventDefault();\n      } // Smooth interval\n\n\n      clearInterval(intervalRef.current);\n      intervalRef.current = setInterval(function () {\n        offsetY *= SMOOTH_PTG;\n\n        if (!callback(offsetY, true) || Math.abs(offsetY) <= 0.1) {\n          clearInterval(intervalRef.current);\n        }\n      }, 16);\n    }\n  };\n\n  var onTouchEnd = function onTouchEnd() {\n    touchedRef.current = false;\n    cleanUpEvents();\n  };\n\n  var onTouchStart = function onTouchStart(e) {\n    cleanUpEvents();\n\n    if (e.touches.length === 1 && !touchedRef.current) {\n      touchedRef.current = true;\n      touchYRef.current = Math.ceil(e.touches[0].pageY);\n      elementRef.current = e.target;\n      elementRef.current.addEventListener('touchmove', onTouchMove);\n      elementRef.current.addEventListener('touchend', onTouchEnd);\n    }\n  };\n\n  cleanUpEvents = function cleanUpEvents() {\n    if (elementRef.current) {\n      elementRef.current.removeEventListener('touchmove', onTouchMove);\n      elementRef.current.removeEventListener('touchend', onTouchEnd);\n    }\n  };\n\n  React.useLayoutEffect(function () {\n    if (inVirtual) {\n      listRef.current.addEventListener('touchstart', onTouchStart);\n    }\n\n    return function () {\n      listRef.current.removeEventListener('touchstart', onTouchStart);\n      cleanUpEvents();\n      clearInterval(intervalRef.current);\n    };\n  }, [inVirtual]);\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,MAAM,QAAQ,OAAO;AAC9B,IAAIC,UAAU,GAAG,EAAE,GAAG,EAAE;AACxB,eAAe,SAASC,kBAAkBA,CAACC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,EAAE;EACvE,IAAIC,UAAU,GAAGN,MAAM,CAAC,KAAK,CAAC;EAC9B,IAAIO,SAAS,GAAGP,MAAM,CAAC,CAAC,CAAC;EACzB,IAAIQ,UAAU,GAAGR,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE/B,IAAIS,WAAW,GAAGT,MAAM,CAAC,IAAI,CAAC;EAC9B,IAAIU,aAAa;EAEjB,IAAIC,WAAW,GAAG,SAASA,WAAWA,CAACC,CAAC,EAAE;IACxC,IAAIN,UAAU,CAACO,OAAO,EAAE;MACtB,IAAIC,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAACJ,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC;MAC5C,IAAIC,OAAO,GAAGZ,SAAS,CAACM,OAAO,GAAGC,QAAQ;MAC1CP,SAAS,CAACM,OAAO,GAAGC,QAAQ;MAE5B,IAAIT,QAAQ,CAACc,OAAO,CAAC,EAAE;QACrBP,CAAC,CAACQ,cAAc,CAAC,CAAC;MACpB,CAAC,CAAC;;MAGFC,aAAa,CAACZ,WAAW,CAACI,OAAO,CAAC;MAClCJ,WAAW,CAACI,OAAO,GAAGS,WAAW,CAAC,YAAY;QAC5CH,OAAO,IAAIlB,UAAU;QAErB,IAAI,CAACI,QAAQ,CAACc,OAAO,EAAE,IAAI,CAAC,IAAIJ,IAAI,CAACQ,GAAG,CAACJ,OAAO,CAAC,IAAI,GAAG,EAAE;UACxDE,aAAa,CAACZ,WAAW,CAACI,OAAO,CAAC;QACpC;MACF,CAAC,EAAE,EAAE,CAAC;IACR;EACF,CAAC;EAED,IAAIW,UAAU,GAAG,SAASA,UAAUA,CAAA,EAAG;IACrClB,UAAU,CAACO,OAAO,GAAG,KAAK;IAC1BH,aAAa,CAAC,CAAC;EACjB,CAAC;EAED,IAAIe,YAAY,GAAG,SAASA,YAAYA,CAACb,CAAC,EAAE;IAC1CF,aAAa,CAAC,CAAC;IAEf,IAAIE,CAAC,CAACK,OAAO,CAACS,MAAM,KAAK,CAAC,IAAI,CAACpB,UAAU,CAACO,OAAO,EAAE;MACjDP,UAAU,CAACO,OAAO,GAAG,IAAI;MACzBN,SAAS,CAACM,OAAO,GAAGE,IAAI,CAACC,IAAI,CAACJ,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC;MACjDV,UAAU,CAACK,OAAO,GAAGD,CAAC,CAACe,MAAM;MAC7BnB,UAAU,CAACK,OAAO,CAACe,gBAAgB,CAAC,WAAW,EAAEjB,WAAW,CAAC;MAC7DH,UAAU,CAACK,OAAO,CAACe,gBAAgB,CAAC,UAAU,EAAEJ,UAAU,CAAC;IAC7D;EACF,CAAC;EAEDd,aAAa,GAAG,SAASA,aAAaA,CAAA,EAAG;IACvC,IAAIF,UAAU,CAACK,OAAO,EAAE;MACtBL,UAAU,CAACK,OAAO,CAACgB,mBAAmB,CAAC,WAAW,EAAElB,WAAW,CAAC;MAChEH,UAAU,CAACK,OAAO,CAACgB,mBAAmB,CAAC,UAAU,EAAEL,UAAU,CAAC;IAChE;EACF,CAAC;EAEDzB,KAAK,CAAC+B,eAAe,CAAC,YAAY;IAChC,IAAI3B,SAAS,EAAE;MACbC,OAAO,CAACS,OAAO,CAACe,gBAAgB,CAAC,YAAY,EAAEH,YAAY,CAAC;IAC9D;IAEA,OAAO,YAAY;MACjBrB,OAAO,CAACS,OAAO,CAACgB,mBAAmB,CAAC,YAAY,EAAEJ,YAAY,CAAC;MAC/Df,aAAa,CAAC,CAAC;MACfW,aAAa,CAACZ,WAAW,CAACI,OAAO,CAAC;IACpC,CAAC;EACH,CAAC,EAAE,CAACV,SAAS,CAAC,CAAC;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module"}