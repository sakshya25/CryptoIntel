{"ast":null,"code":"var constants = require('./constants');\nvar domhandler = require('domhandler/lib/node');\nvar CASE_SENSITIVE_TAG_NAMES = constants.CASE_SENSITIVE_TAG_NAMES;\nvar Comment = domhandler.Comment;\nvar Element = domhandler.Element;\nvar ProcessingInstruction = domhandler.ProcessingInstruction;\nvar Text = domhandler.Text;\nvar caseSensitiveTagNamesMap = {};\nvar tagName;\nfor (var i = 0, len = CASE_SENSITIVE_TAG_NAMES.length; i < len; i++) {\n  tagName = CASE_SENSITIVE_TAG_NAMES[i];\n  caseSensitiveTagNamesMap[tagName.toLowerCase()] = tagName;\n}\n\n/**\n * Gets case-sensitive tag name.\n *\n * @param  {string}           tagName - Tag name in lowercase.\n * @return {string|undefined}         - Case-sensitive tag name.\n */\nfunction getCaseSensitiveTagName(tagName) {\n  return caseSensitiveTagNamesMap[tagName];\n}\n\n/**\n * Formats DOM attributes to a hash map.\n *\n * @param  {NamedNodeMap} attributes - List of attributes.\n * @return {object}                  - Map of attribute name to value.\n */\nfunction formatAttributes(attributes) {\n  var result = {};\n  var attribute;\n  // `NamedNodeMap` is array-like\n  for (var i = 0, len = attributes.length; i < len; i++) {\n    attribute = attributes[i];\n    result[attribute.name] = attribute.value;\n  }\n  return result;\n}\n\n/**\n * Corrects the tag name if it is case-sensitive (SVG).\n * Otherwise, returns the lowercase tag name (HTML).\n *\n * @param  {string} tagName - Lowercase tag name.\n * @return {string}         - Formatted tag name.\n */\nfunction formatTagName(tagName) {\n  tagName = tagName.toLowerCase();\n  var caseSensitiveTagName = getCaseSensitiveTagName(tagName);\n  if (caseSensitiveTagName) {\n    return caseSensitiveTagName;\n  }\n  return tagName;\n}\n\n/**\n * Transforms DOM nodes to `domhandler` nodes.\n *\n * @param  {NodeList}     nodes         - DOM nodes.\n * @param  {Element|null} [parent=null] - Parent node.\n * @param  {string}       [directive]   - Directive.\n * @return {Array<Comment|Element|ProcessingInstruction|Text>}\n */\nfunction formatDOM(nodes, parent, directive) {\n  parent = parent || null;\n  var result = [];\n  for (var index = 0, len = nodes.length; index < len; index++) {\n    var node = nodes[index];\n    var current;\n\n    // set the node data given the type\n    switch (node.nodeType) {\n      case 1:\n        // script, style, or tag\n        current = new Element(formatTagName(node.nodeName), formatAttributes(node.attributes));\n        current.children = formatDOM(node.childNodes, current);\n        break;\n      case 3:\n        current = new Text(node.nodeValue);\n        break;\n      case 8:\n        current = new Comment(node.nodeValue);\n        break;\n      default:\n        continue;\n    }\n\n    // set previous node next\n    var prev = result[index - 1] || null;\n    if (prev) {\n      prev.next = current;\n    }\n\n    // set properties for current node\n    current.parent = parent;\n    current.prev = prev;\n    current.next = null;\n    result.push(current);\n  }\n  if (directive) {\n    current = new ProcessingInstruction(directive.substring(0, directive.indexOf(' ')).toLowerCase(), directive);\n    current.next = result[0] || null;\n    current.parent = parent;\n    result.unshift(current);\n    if (result[1]) {\n      result[1].prev = result[0];\n    }\n  }\n  return result;\n}\n\n/**\n * Detects if browser is Internet Explorer.\n *\n * @return {boolean} - Whether IE is detected.\n */\nfunction isIE() {\n  return /(MSIE |Trident\\/|Edge\\/)/.test(navigator.userAgent);\n}\nmodule.exports = {\n  formatAttributes: formatAttributes,\n  formatDOM: formatDOM,\n  isIE: isIE\n};","map":{"version":3,"names":["constants","require","domhandler","CASE_SENSITIVE_TAG_NAMES","Comment","Element","ProcessingInstruction","Text","caseSensitiveTagNamesMap","tagName","i","len","length","toLowerCase","getCaseSensitiveTagName","formatAttributes","attributes","result","attribute","name","value","formatTagName","caseSensitiveTagName","formatDOM","nodes","parent","directive","index","node","current","nodeType","nodeName","children","childNodes","nodeValue","prev","next","push","substring","indexOf","unshift","isIE","test","navigator","userAgent","module","exports"],"sources":["D:/projects/CryptoIntel/node_modules/html-dom-parser/lib/client/utilities.js"],"sourcesContent":["var constants = require('./constants');\nvar domhandler = require('domhandler/lib/node');\n\nvar CASE_SENSITIVE_TAG_NAMES = constants.CASE_SENSITIVE_TAG_NAMES;\n\nvar Comment = domhandler.Comment;\nvar Element = domhandler.Element;\nvar ProcessingInstruction = domhandler.ProcessingInstruction;\nvar Text = domhandler.Text;\n\nvar caseSensitiveTagNamesMap = {};\nvar tagName;\n\nfor (var i = 0, len = CASE_SENSITIVE_TAG_NAMES.length; i < len; i++) {\n  tagName = CASE_SENSITIVE_TAG_NAMES[i];\n  caseSensitiveTagNamesMap[tagName.toLowerCase()] = tagName;\n}\n\n/**\n * Gets case-sensitive tag name.\n *\n * @param  {string}           tagName - Tag name in lowercase.\n * @return {string|undefined}         - Case-sensitive tag name.\n */\nfunction getCaseSensitiveTagName(tagName) {\n  return caseSensitiveTagNamesMap[tagName];\n}\n\n/**\n * Formats DOM attributes to a hash map.\n *\n * @param  {NamedNodeMap} attributes - List of attributes.\n * @return {object}                  - Map of attribute name to value.\n */\nfunction formatAttributes(attributes) {\n  var result = {};\n  var attribute;\n  // `NamedNodeMap` is array-like\n  for (var i = 0, len = attributes.length; i < len; i++) {\n    attribute = attributes[i];\n    result[attribute.name] = attribute.value;\n  }\n  return result;\n}\n\n/**\n * Corrects the tag name if it is case-sensitive (SVG).\n * Otherwise, returns the lowercase tag name (HTML).\n *\n * @param  {string} tagName - Lowercase tag name.\n * @return {string}         - Formatted tag name.\n */\nfunction formatTagName(tagName) {\n  tagName = tagName.toLowerCase();\n  var caseSensitiveTagName = getCaseSensitiveTagName(tagName);\n  if (caseSensitiveTagName) {\n    return caseSensitiveTagName;\n  }\n  return tagName;\n}\n\n/**\n * Transforms DOM nodes to `domhandler` nodes.\n *\n * @param  {NodeList}     nodes         - DOM nodes.\n * @param  {Element|null} [parent=null] - Parent node.\n * @param  {string}       [directive]   - Directive.\n * @return {Array<Comment|Element|ProcessingInstruction|Text>}\n */\nfunction formatDOM(nodes, parent, directive) {\n  parent = parent || null;\n  var result = [];\n\n  for (var index = 0, len = nodes.length; index < len; index++) {\n    var node = nodes[index];\n    var current;\n\n    // set the node data given the type\n    switch (node.nodeType) {\n      case 1:\n        // script, style, or tag\n        current = new Element(\n          formatTagName(node.nodeName),\n          formatAttributes(node.attributes)\n        );\n        current.children = formatDOM(node.childNodes, current);\n        break;\n\n      case 3:\n        current = new Text(node.nodeValue);\n        break;\n\n      case 8:\n        current = new Comment(node.nodeValue);\n        break;\n\n      default:\n        continue;\n    }\n\n    // set previous node next\n    var prev = result[index - 1] || null;\n    if (prev) {\n      prev.next = current;\n    }\n\n    // set properties for current node\n    current.parent = parent;\n    current.prev = prev;\n    current.next = null;\n\n    result.push(current);\n  }\n\n  if (directive) {\n    current = new ProcessingInstruction(\n      directive.substring(0, directive.indexOf(' ')).toLowerCase(),\n      directive\n    );\n    current.next = result[0] || null;\n    current.parent = parent;\n    result.unshift(current);\n\n    if (result[1]) {\n      result[1].prev = result[0];\n    }\n  }\n\n  return result;\n}\n\n/**\n * Detects if browser is Internet Explorer.\n *\n * @return {boolean} - Whether IE is detected.\n */\nfunction isIE() {\n  return /(MSIE |Trident\\/|Edge\\/)/.test(navigator.userAgent);\n}\n\nmodule.exports = {\n  formatAttributes: formatAttributes,\n  formatDOM: formatDOM,\n  isIE: isIE\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}