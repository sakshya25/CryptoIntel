{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Line}from'react-chartjs-2';import{Col,Row,Typography,Select}from'antd';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const{Title}=Typography;const{Option}=Select;const LineChart=_ref=>{var _coinHistory$data3;let{coinHistory,currentPrice,coinName}=_ref;const[selectedRange,setSelectedRange]=useState('30');const[coinTimestamp,setCoinTimestamp]=useState([]);const coinPrice=[];useEffect(()=>{generateTimestamp(selectedRange);},[selectedRange]);for(let i=0;i<(coinHistory===null||coinHistory===void 0?void 0:(_coinHistory$data=coinHistory.data)===null||_coinHistory$data===void 0?void 0:(_coinHistory$data$his=_coinHistory$data.history)===null||_coinHistory$data$his===void 0?void 0:_coinHistory$data$his.length);i+=1){var _coinHistory$data,_coinHistory$data$his,_coinHistory$data2;coinPrice.push(coinHistory===null||coinHistory===void 0?void 0:(_coinHistory$data2=coinHistory.data)===null||_coinHistory$data2===void 0?void 0:_coinHistory$data2.history[i].price);}const generateTimestamp=range=>{const startDate=new Date();startDate.setDate(startDate.getDate()-parseInt(range));// Adjust the start date based on the selected range\nconst timestamps=[];for(let i=0;i<=parseInt(range);i++){const newDate=new Date(startDate.getTime()+i*24*60*60*1000);timestamps.push(newDate.toLocaleDateString());}setCoinTimestamp(timestamps);};const handleRangeChange=value=>{setSelectedRange(value);};const data={labels:coinTimestamp,datasets:[{label:'Price In USD',data:coinPrice,fill:false,backgroundColor:'#0071bd',borderColor:'#0071bd'}]};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(Title,{level:2,className:\"chart-title\",children:[coinName,\" Price Chart \"]}),/*#__PURE__*/_jsxs(Col,{className:\"price-container\",children:[/*#__PURE__*/_jsxs(Title,{level:5,className:\"price-change\",children:[\"Change: \",coinHistory===null||coinHistory===void 0?void 0:(_coinHistory$data3=coinHistory.data)===null||_coinHistory$data3===void 0?void 0:_coinHistory$data3.change,\"%\"]}),/*#__PURE__*/_jsxs(Title,{level:5,className:\"current-price\",children:[\"Current \",coinName,\" Price: $ \",currentPrice]})]}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Select,{value:selectedRange,style:{width:200,color:'black'},onChange:handleRangeChange,children:[/*#__PURE__*/_jsx(Option,{value:\"7\",children:\"7 days\"}),/*#__PURE__*/_jsx(Option,{value:\"30\",children:\"30 days\"}),/*#__PURE__*/_jsx(Option,{value:\"90\",children:\"90 days\"})]})})]}),/*#__PURE__*/_jsx(Line,{data:data})]});};export default LineChart;","map":{"version":3,"names":["React","useState","useEffect","Line","Col","Row","Typography","Select","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Title","Option","LineChart","_ref","_coinHistory$data3","coinHistory","currentPrice","coinName","selectedRange","setSelectedRange","coinTimestamp","setCoinTimestamp","coinPrice","generateTimestamp","i","_coinHistory$data","data","_coinHistory$data$his","history","length","_coinHistory$data2","push","price","range","startDate","Date","setDate","getDate","parseInt","timestamps","newDate","getTime","toLocaleDateString","handleRangeChange","value","labels","datasets","label","fill","backgroundColor","borderColor","children","className","level","change","span","style","width","color","onChange"],"sources":["D:/projects/CryptoIntel/src/components/LineChart.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { Col, Row, Typography, Select } from 'antd';\r\n\r\nconst { Title } = Typography;\r\nconst { Option } = Select;\r\n\r\nconst LineChart = ({ coinHistory, currentPrice, coinName }) => {\r\n  const [selectedRange, setSelectedRange] = useState('30');\r\n  const [coinTimestamp, setCoinTimestamp] = useState([]);\r\n  const coinPrice = [];\r\n\r\n  useEffect(() => {\r\n    generateTimestamp(selectedRange);\r\n  }, [selectedRange]);\r\n\r\n  for (let i = 0; i < coinHistory?.data?.history?.length; i += 1) {\r\n    coinPrice.push(coinHistory?.data?.history[i].price);\r\n  }\r\n\r\n  const generateTimestamp = (range) => {\r\n    const startDate = new Date();\r\n    startDate.setDate(startDate.getDate() - parseInt(range)); // Adjust the start date based on the selected range\r\n\r\n    const timestamps = [];\r\n    for (let i = 0; i <= parseInt(range); i++) {\r\n      const newDate = new Date(startDate.getTime() + i * 24 * 60 * 60 * 1000);\r\n      timestamps.push(newDate.toLocaleDateString());\r\n    }\r\n    setCoinTimestamp(timestamps);\r\n  };\r\n\r\n  const handleRangeChange = (value) => {\r\n    setSelectedRange(value);\r\n  };\r\n\r\n  const data = {\r\n    labels: coinTimestamp,\r\n    datasets: [\r\n      {\r\n        label: 'Price In USD',\r\n        data: coinPrice,\r\n        fill: false,\r\n        backgroundColor: '#0071bd',\r\n        borderColor: '#0071bd',\r\n      },\r\n    ],\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <>\r\n      <Row className=\"chart-header\">\r\n        <Title level={2} className=\"chart-title\">{coinName} Price Chart </Title>\r\n        <Col className=\"price-container\">\r\n          <Title level={5} className=\"price-change\">Change: {coinHistory?.data?.change}%</Title>\r\n          <Title level={5} className=\"current-price\">Current {coinName} Price: $ {currentPrice}</Title>\r\n        </Col>\r\n        <Col span={24}>\r\n          <Select\r\n            value={selectedRange}\r\n            style={{ width: 200,color:'black' }}\r\n            onChange={handleRangeChange}\r\n          >\r\n            <Option value=\"7\">7 days</Option>\r\n            <Option value=\"30\">30 days</Option>\r\n            <Option value=\"90\">90 days</Option>\r\n          </Select>\r\n        </Col>\r\n      </Row>\r\n      <Line data={data}  />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LineChart;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,iBAAiB,CACtC,OAASC,GAAG,CAAEC,GAAG,CAAEC,UAAU,CAAEC,MAAM,KAAQ,MAAM,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpD,KAAM,CAAEC,KAAM,CAAC,CAAGR,UAAU,CAC5B,KAAM,CAAES,MAAO,CAAC,CAAGR,MAAM,CAEzB,KAAM,CAAAS,SAAS,CAAGC,IAAA,EAA6C,KAAAC,kBAAA,IAA5C,CAAEC,WAAW,CAAEC,YAAY,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACxD,KAAM,CAACK,aAAa,CAAEC,gBAAgB,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACuB,aAAa,CAAEC,gBAAgB,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAAyB,SAAS,CAAG,EAAE,CAEpBxB,SAAS,CAAC,IAAM,CACdyB,iBAAiB,CAACL,aAAa,CAAC,CAClC,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAEnB,IAAK,GAAI,CAAAM,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAGT,WAAW,SAAXA,WAAW,kBAAAU,iBAAA,CAAXV,WAAW,CAAEW,IAAI,UAAAD,iBAAA,kBAAAE,qBAAA,CAAjBF,iBAAA,CAAmBG,OAAO,UAAAD,qBAAA,iBAA1BA,qBAAA,CAA4BE,MAAM,EAAEL,CAAC,EAAI,CAAC,CAAE,KAAAC,iBAAA,CAAAE,qBAAA,CAAAG,kBAAA,CAC9DR,SAAS,CAACS,IAAI,CAAChB,WAAW,SAAXA,WAAW,kBAAAe,kBAAA,CAAXf,WAAW,CAAEW,IAAI,UAAAI,kBAAA,iBAAjBA,kBAAA,CAAmBF,OAAO,CAACJ,CAAC,CAAC,CAACQ,KAAK,CAAC,CACrD,CAEA,KAAM,CAAAT,iBAAiB,CAAIU,KAAK,EAAK,CACnC,KAAM,CAAAC,SAAS,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAC5BD,SAAS,CAACE,OAAO,CAACF,SAAS,CAACG,OAAO,CAAC,CAAC,CAAGC,QAAQ,CAACL,KAAK,CAAC,CAAC,CAAE;AAE1D,KAAM,CAAAM,UAAU,CAAG,EAAE,CACrB,IAAK,GAAI,CAAAf,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAIc,QAAQ,CAACL,KAAK,CAAC,CAAET,CAAC,EAAE,CAAE,CACzC,KAAM,CAAAgB,OAAO,CAAG,GAAI,CAAAL,IAAI,CAACD,SAAS,CAACO,OAAO,CAAC,CAAC,CAAGjB,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CACvEe,UAAU,CAACR,IAAI,CAACS,OAAO,CAACE,kBAAkB,CAAC,CAAC,CAAC,CAC/C,CACArB,gBAAgB,CAACkB,UAAU,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAI,iBAAiB,CAAIC,KAAK,EAAK,CACnCzB,gBAAgB,CAACyB,KAAK,CAAC,CACzB,CAAC,CAED,KAAM,CAAAlB,IAAI,CAAG,CACXmB,MAAM,CAAEzB,aAAa,CACrB0B,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,cAAc,CACrBrB,IAAI,CAAEJ,SAAS,CACf0B,IAAI,CAAE,KAAK,CACXC,eAAe,CAAE,SAAS,CAC1BC,WAAW,CAAE,SACf,CAAC,CAEL,CAAC,CAID,mBACE7C,KAAA,CAAAI,SAAA,EAAA0C,QAAA,eACE9C,KAAA,CAACJ,GAAG,EAACmD,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B9C,KAAA,CAACK,KAAK,EAAC2C,KAAK,CAAE,CAAE,CAACD,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAElC,QAAQ,CAAC,eAAa,EAAO,CAAC,cACxEZ,KAAA,CAACL,GAAG,EAACoD,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9B9C,KAAA,CAACK,KAAK,EAAC2C,KAAK,CAAE,CAAE,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,EAAC,UAAQ,CAACpC,WAAW,SAAXA,WAAW,kBAAAD,kBAAA,CAAXC,WAAW,CAAEW,IAAI,UAAAZ,kBAAA,iBAAjBA,kBAAA,CAAmBwC,MAAM,CAAC,GAAC,EAAO,CAAC,cACtFjD,KAAA,CAACK,KAAK,EAAC2C,KAAK,CAAE,CAAE,CAACD,SAAS,CAAC,eAAe,CAAAD,QAAA,EAAC,UAAQ,CAAClC,QAAQ,CAAC,YAAU,CAACD,YAAY,EAAQ,CAAC,EAC1F,CAAC,cACNT,IAAA,CAACP,GAAG,EAACuD,IAAI,CAAE,EAAG,CAAAJ,QAAA,cACZ9C,KAAA,CAACF,MAAM,EACLyC,KAAK,CAAE1B,aAAc,CACrBsC,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAG,CAACC,KAAK,CAAC,OAAQ,CAAE,CACpCC,QAAQ,CAAEhB,iBAAkB,CAAAQ,QAAA,eAE5B5C,IAAA,CAACI,MAAM,EAACiC,KAAK,CAAC,GAAG,CAAAO,QAAA,CAAC,QAAM,CAAQ,CAAC,cACjC5C,IAAA,CAACI,MAAM,EAACiC,KAAK,CAAC,IAAI,CAAAO,QAAA,CAAC,SAAO,CAAQ,CAAC,cACnC5C,IAAA,CAACI,MAAM,EAACiC,KAAK,CAAC,IAAI,CAAAO,QAAA,CAAC,SAAO,CAAQ,CAAC,EAC7B,CAAC,CACN,CAAC,EACH,CAAC,cACN5C,IAAA,CAACR,IAAI,EAAC2B,IAAI,CAAEA,IAAK,CAAG,CAAC,EACrB,CAAC,CAEP,CAAC,CAED,cAAe,CAAAd,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}